<!DOCTYPE html><html><head>
<meta charset="utf-8" />
<title>Wmeter</title>
<meta name="description" content="a page displaying the smart meter value" />  
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="../RX/wmeter/css/font.css" type="text/css" />
<link rel="stylesheet" href="../RX/wmeter/css/normalize.css" type="text/css" />
<link rel="stylesheet" href="../RX/wmeter/css/skeleton.css" type="text/css" />
<script src="../RX/wmeter/script/chart.min.js"></script>
<script src="../RX/wmeter/script/moment.min.mine.js"></script>
<script src="../RX/wmeter/script/chartjs-adapter-moment.mine.js"></script>
</head><body>
<div class="section noBottom">
<div class="container">
  <h3>Wmeter</h3><div class="row twelve columns"><canvas id="myChart" width="600" height="300"></canvas></div>      
      <script>
        // changing the adapter itself actually works, can define there the formats as I like. Other stuff does not work so far
      const ctx = document.getElementById("myChart");
      const labels = [ new Date("2020-03-01 12:00:12"), new Date("2020-03-01 13:00:01"), new Date("2020-03-01 14:00:45"), new Date("2020-03-08 18:20:30")];
      const data = {
        labels: labels,
        datasets: [{
          label: "Verbrauch [W]",
          data: [ 169, 170, 169, 169],
          yAxisID: "yleft",
          backgroundColor: "rgb(25, 99, 132)",
          showLine: false
        },
        {
          label: "Verbrauch total [kWh]",
          data: [ -20.945999999996, -20.942999999999, -20.939999999995, -20.936999999998],
          yAxisID: "yright",
          backgroundColor: "rgba(255, 99, 132, 0.4)",
          showLine: false
        }
      ],
      };
      const config = {
        type: "line",
        data: data,
        options: {
          scales: {               
            x: { type: "time",
              time: {
                      unit: 'day'
                      
              }
            },
            yleft: { type: "logarithmic", position: "left", ticks: {color: "rgb(25, 99, 132)"} },
            yright: { type: "linear",  position: "right", ticks: {color: "rgba(255, 99, 132, 0.8)"}, grid: {drawOnChartArea: false} }
          }
        }
      };
      const myChart = new Chart( document.getElementById("myChart"), config );
      </script>
</div></div></body></html>
